{% extends "base.html" %}

{% block title %}–ê–Ω–∞–ª–∏—Ç–∏–∫–∞{% endblock %}

{% block content %}
<h1>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>

<!-- üëá HERO-–ü–ê–ù–ï–õ–¨ -->
<div class="stats-hero">
  <div class="stat-block">
    <div class="stat-title"><i class="fas fa-file-alt icon"></i> –û–±—ä—è–≤–ª–µ–Ω–∏–π</div>
    <div class="stat-value" id="stat-total">...</div>
  </div>
  <div class="stat-block">
    <div class="stat-title"><i class="fas fa-coins icon"></i> –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞</div>
    <div class="stat-value" id="stat-average">...</div>
  </div>
  <div class="stat-block">
    <div class="stat-title"><i class="fas fa-city icon"></i> –¢–æ–ø –≥–æ—Ä–æ–¥–∞</div>
    <div class="stat-value" id="stat-top">...</div>
  </div>
</div>

<!-- üëá –ì–†–ê–§–ò–ö–ò -->
<div class="analytics-graphs">
  <!-- –°—Ç–∞—Ç—É—Å—ã -->
  <div class="chart-card">
    <h3>–û–±—ä—è–≤–ª–µ–Ω–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º</h3>
    <div class="chart-container">
      <canvas id="statusChart" data-chart-type="bar"></canvas>
      <div class="no-data" id="statusChart-empty">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</div>
    </div>
  </div>

  <!-- –ì–æ—Ä–æ–¥–∞ -->
  <div class="chart-card">
    <h3>–¢–æ–ø –≥–æ—Ä–æ–¥–∞</h3>
    <div class="chart-container">
      <canvas id="cityChart" data-chart-type="bar"></canvas>
      <div class="no-data" id="cityChart-empty">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</div>
    </div>
  </div>

  <!-- –ü–æ–Ω—á–∏–∫ –ø—Ä–æ–¥–∞–∂ -->
  <div class="chart-card">
    <h3>–û–±–∑–æ—Ä –ø—Ä–æ–¥–∞–∂</h3>
    <div class="chart-container donut-with-center">
      <canvas id="priceStatusChart" data-chart-type="doughnut"></canvas>
      <div class="no-data" id="priceStatusChart-empty">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</div>
    </div>
  </div>

  <!-- –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ —Ü–µ–Ω -->
  <div class="chart-card">
    <h3>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–Ω</h3>
    <div class="chart-container">
      <canvas id="priceDistributionChart" data-chart-type="histogram"></canvas>
      <div class="no-data" id="priceDistributionChart-empty">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</div>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
  <script type="module" src="/static/analytics.js"></script>
  <script type="module" src="/static/main.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock %}
